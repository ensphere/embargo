{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["\n/**\n * Ensphere Container\n */\n$.fn.ensphere = new function() {\n\n    /**\n     *\n     * @type {embargo}\n     */\n    this.embargo = new function() {\n\n        /**\n         * GUID\n         * @returns {string}\n         */\n        var guid = function()\n        {\n            return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n        }\n\n        /**\n         * S4\n         * @returns {string}\n         */\n        var s4 = function()\n        {\n            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n\n        /**\n         * Remove Page Loader\n         */\n        var removePageLoader = function()\n        {\n            var loader = $('#loader');\n            if( loader.length ) {\n                loader.fadeOut( 200, function(){\n                    $(this).remove();\n                });\n            }\n        };\n\n        var distributeApiRequests = function()\n        {\n            var methods = [];\n            $('[data-api]').each( function(){\n                var _guid = guid();\n                $(this).attr( 'data-guid', _guid );\n                methods.push({\n                    method : $(this).attr( 'data-api' ),\n                    callback : $(this).attr( 'data-api-callback' ),\n                    modelId : parseInt( $(this).attr( 'data-model-id' ) ),\n                    guid : _guid\n                });\n            });\n            if( ! methods.length ) return;\n            $.get( '/api/render', { actions : methods }, function( responses ) {\n                for( var i in responses ) {\n                    if( typeof window[responses[i].callback] !== 'undefined' ) {\n                        window[responses[i].callback](responses[i].response, $('[data-guid=\"' + responses[i].guid + '\"]') );\n                    } else {\n                        console.log( '[API Renderer] ' + responses[i].callback + ' is not a valid api callback' );\n                    }\n                }\n            });\n        };\n\n        var onDocumentReady = function()\n        {\n            distributeApiRequests();\n        };\n\n        var onWindowLoad = function()\n        {\n            removePageLoader();\n        };\n\n        $(document).ready( onDocumentReady );\n        $(window).load( onWindowLoad );\n\n    };\n};\n"]}